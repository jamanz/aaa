#:import utils kivy.utils

<TreeItem>:
    on_press: root.callback(self)
    _txt_left_pad: "12dp"

    IconRightWidget:
        opacity: 1 if root.can_delete else 0
        disabled: not root.can_delete
        icon: 'delete'
        on_press: root.delete_item(root)


<TreeItemsPage>:
    viewclass: "TreeItem"
    RecycleBoxLayout:
        padding: 10
        spacing: 5
        default_size: None, 50
        default_size_hint: 1, None
        size_hint_y: None
        height: self.minimum_height
        orientation: "vertical"
        background_color: utils.get_color_from_hex('#c1c72f')

<SessionScreenView>:
    MDBoxLayout:
        id: box_layout
        orientation: 'vertical'
        size_hint: 1, 1
        #md_bg_color: utils.get_color_from_hex('#c1c72f')

        MDTopAppBar:
            elevation: 3
            title: root.app_bar_title
            type_height: "medium"
            headline_text: "Headline"
            left_action_items: [["arrow-left", lambda x: root.app.go_prev_screen()]]

        TreeItemsPage:
            id: tree_items_page

        MDGridLayout:
            #md_bg_color: utils.get_color_from_hex('#975c0e')
            cols:2
            padding: 10
            spacing: 10
            #pos_hint: {"center_x": .5, "center_y": .5}
            size_hint: 1, .1
            id: buttons_grid
            opacity: 1 if root.show_buttons else 0

            MDFillRoundFlatButton:
                text: "New Record"
                size_hint: .4, .5
                on_release: root.go_to_add_data_screen()

            MDFillRoundFlatButton:
                text: "Upload Session"
                size_hint: .4, .5
                on_release: root.upload_session()



